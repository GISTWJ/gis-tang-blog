import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as e,o as c,c as i,a as n,d as s,b as p,e as a}from"./app-DVIbrNyI.js";const l={},u=a(`<h1 id="_10、cesium加载多源数据" tabindex="-1"><a class="header-anchor" href="#_10、cesium加载多源数据"><span>10、Cesium加载多源数据</span></a></h1><h3 id="_1、geojson" tabindex="-1"><a class="header-anchor" href="#_1、geojson"><span>1、GeoJSON</span></a></h3><p>调用<code>Cesium.GeoJsonDataSource()</code>:处理<strong>GeoJSON</strong>和<strong>TopoJSON</strong>数据的数据源。</p><ol><li><p>第一种加载方式：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>const loadGeoJSON = () =&gt; {
  viewer.dataSources.add(
    Cesium.GeoJsonDataSource.load(
       &quot;https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json&quot;,
       {
         stroke: Cesium.Color.fromCssColorString(&quot;#048dfa&quot;), //折线和多边形轮廓的默认颜色。
         fill: Cesium.Color.fromCssColorString(&quot;#afd6f0&quot;), //填充颜色#048dfa
         strokeWidth: 3, //轮廓宽度
         markerSymbol: &quot;?&quot;, //为每个点创建的地图图钉的默认符号。
       }
     )
   );
};
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>第二种加载方式：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">loadGeoJSON</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">//因为加载是Ajax请求，所以可以使用以下方式加载</span>
  Cesium<span class="token punctuation">.</span>GeoJsonDataSource<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>
    <span class="token string">&quot;https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      stroke<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromCssColorString</span><span class="token punctuation">(</span><span class="token string">&quot;#048dfa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//折线和多边形轮廓的默认颜色。</span>
      fill<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromCssColorString</span><span class="token punctuation">(</span><span class="token string">&quot;#afd6f0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//填充颜色#048dfa</span>
      strokeWidth<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">//轮廓宽度</span>
      markerSymbol<span class="token operator">:</span> <span class="token string">&quot;?&quot;</span><span class="token punctuation">,</span> <span class="token comment">//为每个点创建的地图图钉的默认符号。</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dataSources<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>GeoJsonDataSource<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dataSources<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_2、kml" tabindex="-1"><a class="header-anchor" href="#_2、kml"><span>2、KML</span></a></h3><p>调用<code>Cesium.KmlDataSource()</code>:处理KML的数据源。与 <code>Cesium.GeoJsonDataSource()</code>类似。</p><h3 id="_3、czml" tabindex="-1"><a class="header-anchor" href="#_3、czml"><span>3、CZML</span></a></h3>`,7),r={id:"_3-1、czml标准",tabindex:"-1"},k={class:"header-anchor",href:"#_3-1、czml标准"},d={href:"https://github.com/AnalyticalGraphicsInc/czml-writer/wiki/CZML-Guide",target:"_blank",rel:"noopener noreferrer"},m=a(`<p>CZML 是一种<strong>用于描述时间动态图形场景的 JSON 格式</strong>，主要用于在运行 Cesium 的 Web 浏览器中显示。它描述了线、点、广告牌、模型和其他图形基元，并指定了它们如何随时间变化。虽然 Cesium 具有丰富的客户端 API，但 CZML 允许它是数据驱动的，以便通用 Cesium 查看器可以显示丰富的场景，而无需任何自定义代码。在许多方面，Cesium和CZML之间的关系类似于谷歌地球和KML之间的关系。CZML 和 KML 都是用于描述各自客户端中的场景的数据格式，旨在由各种应用程序生成，甚至可能手写。两者都意味着与客户端充分无关，以便其他兼容的客户端可以渲染其中描述的场景。CZML具有许多重要特征，其中一些特征将其与KML区分开来：</p><ul><li>CZML基于<strong>JSON</strong>。</li><li>CZML 可以准确地描述<strong>随时间变化</strong>值的属性。例如，一条线可以在一个时间间隔内为红色，在另一个时间间隔内为蓝色。客户还应该能够在带时间标记的样本上进行插值。如果指定了两次车辆的位置，则客户端可以使用 CZML 指定的<strong>插值算法</strong>准确显示这两次之间的车辆位置。每个属性都是时间动态的。</li><li>CZML 的结构用于向客户端进行高效的增量流式传输。在显示场景之前，客户端上不需要存在整个文档。在许多情况下，单个客户端甚至可以在流进行时加入和离开流。</li><li>CZML 针对客户端使用进行了优化;它旨在紧凑且易于解析。它也可以被人类合理地阅读和写入。</li><li>CZML 是<strong>可扩展的</strong>。虽然 CZML 的主要目标是将场景传达给类似虚拟地球的客户端，但该格式可以轻松扩展，以将其他静态或时间动态数据传达给更复杂的客户端。例如，时间动态数据可以显示在二维图表上。</li><li>CZML是一种<strong>开放格式</strong>。没有与标准机构正式化。</li></ul><h4 id="_3-2、czml加载" tabindex="-1"><a class="header-anchor" href="#_3-2、czml加载"><span>3.2、CZML加载</span></a></h4><p>定义CZML数据：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> czml <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&quot;document&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;box&quot;</span><span class="token punctuation">,</span>
    version<span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&quot;shape1&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Blue box&quot;</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
      cartographicDegrees<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">114.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    box<span class="token operator">:</span> <span class="token punctuation">{</span>
      dimensions<span class="token operator">:</span> <span class="token punctuation">{</span>
        cartesian<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      material<span class="token operator">:</span> <span class="token punctuation">{</span>
        solidColor<span class="token operator">:</span> <span class="token punctuation">{</span>
          color<span class="token operator">:</span> <span class="token punctuation">{</span>
            rgba<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&quot;shape2&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
      cartographicDegrees<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    box<span class="token operator">:</span> <span class="token punctuation">{</span>
      dimensions<span class="token operator">:</span> <span class="token punctuation">{</span>
        cartesian<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      material<span class="token operator">:</span> <span class="token punctuation">{</span>
        solidColor<span class="token operator">:</span> <span class="token punctuation">{</span>
          color<span class="token operator">:</span> <span class="token punctuation">{</span>
            rgba<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      outline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      outlineColor<span class="token operator">:</span> <span class="token punctuation">{</span>
        rgba<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&quot;shape3&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Yellow box outline&quot;</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
      cartographicDegrees<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">100.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    box<span class="token operator">:</span> <span class="token punctuation">{</span>
      dimensions<span class="token operator">:</span> <span class="token punctuation">{</span>
        cartesian<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      fill<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      outline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      outlineColor<span class="token operator">:</span> <span class="token punctuation">{</span>
        rgba<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>调用 <code>Cesium.CzmlDataSource.load()</code>进行加载：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">loadCZML</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Cesium<span class="token punctuation">.</span>CzmlDataSource<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>czml<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>datasoutcePromise<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>CzmlDataSource<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>datasoutcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cesium加载多源数据" tabindex="-1"><a class="header-anchor" href="#cesium加载多源数据"><span>Cesium加载多源数据</span></a></h2><h3 id="_1、geojson-1" tabindex="-1"><a class="header-anchor" href="#_1、geojson-1"><span>1、GeoJSON</span></a></h3><p>调用<code>Cesium.GeoJsonDataSource()</code>:处理<strong>GeoJSON</strong>和<strong>TopoJSON</strong>数据的数据源。</p><ol><li><p>第一种加载方式：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>const loadGeoJSON = () =&gt; {
  viewer.dataSources.add(
    Cesium.GeoJsonDataSource.load(
       &quot;https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json&quot;,
       {
         stroke: Cesium.Color.fromCssColorString(&quot;#048dfa&quot;), //折线和多边形轮廓的默认颜色。
         fill: Cesium.Color.fromCssColorString(&quot;#afd6f0&quot;), //填充颜色#048dfa
         strokeWidth: 3, //轮廓宽度
         markerSymbol: &quot;?&quot;, //为每个点创建的地图图钉的默认符号。
       }
     )
   );
};
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>第二种加载方式：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">loadGeoJSON</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">//因为加载是Ajax请求，所以可以使用以下方式加载</span>
  Cesium<span class="token punctuation">.</span>GeoJsonDataSource<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>
    <span class="token string">&quot;https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      stroke<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromCssColorString</span><span class="token punctuation">(</span><span class="token string">&quot;#048dfa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//折线和多边形轮廓的默认颜色。</span>
      fill<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromCssColorString</span><span class="token punctuation">(</span><span class="token string">&quot;#afd6f0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//填充颜色#048dfa</span>
      strokeWidth<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">//轮廓宽度</span>
      markerSymbol<span class="token operator">:</span> <span class="token string">&quot;?&quot;</span><span class="token punctuation">,</span> <span class="token comment">//为每个点创建的地图图钉的默认符号。</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dataSources<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>GeoJsonDataSource<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dataSources<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_2、kml-1" tabindex="-1"><a class="header-anchor" href="#_2、kml-1"><span>2、KML</span></a></h3><p>调用<code>Cesium.KmlDataSource()</code>:处理KML的数据源。与 <code>Cesium.GeoJsonDataSource()</code>类似。</p><h3 id="_3、czml-1" tabindex="-1"><a class="header-anchor" href="#_3、czml-1"><span>3、CZML</span></a></h3>`,14),v={id:"_3-1、czml标准-1",tabindex:"-1"},b={class:"header-anchor",href:"#_3-1、czml标准-1"},g={href:"https://github.com/AnalyticalGraphicsInc/czml-writer/wiki/CZML-Guide",target:"_blank",rel:"noopener noreferrer"},C=a(`<p>CZML 是一种<strong>用于描述时间动态图形场景的 JSON 格式</strong>，主要用于在运行 Cesium 的 Web 浏览器中显示。它描述了线、点、广告牌、模型和其他图形基元，并指定了它们如何随时间变化。虽然 Cesium 具有丰富的客户端 API，但 CZML 允许它是数据驱动的，以便通用 Cesium 查看器可以显示丰富的场景，而无需任何自定义代码。在许多方面，Cesium和CZML之间的关系类似于谷歌地球和KML之间的关系。CZML 和 KML 都是用于描述各自客户端中的场景的数据格式，旨在由各种应用程序生成，甚至可能手写。两者都意味着与客户端充分无关，以便其他兼容的客户端可以渲染其中描述的场景。CZML具有许多重要特征，其中一些特征将其与KML区分开来：</p><ul><li>CZML基于<strong>JSON</strong>。</li><li>CZML 可以准确地描述<strong>随时间变化</strong>值的属性。例如，一条线可以在一个时间间隔内为红色，在另一个时间间隔内为蓝色。客户还应该能够在带时间标记的样本上进行插值。如果指定了两次车辆的位置，则客户端可以使用 CZML 指定的<strong>插值算法</strong>准确显示这两次之间的车辆位置。每个属性都是时间动态的。</li><li>CZML 的结构用于向客户端进行高效的增量流式传输。在显示场景之前，客户端上不需要存在整个文档。在许多情况下，单个客户端甚至可以在流进行时加入和离开流。</li><li>CZML 针对客户端使用进行了优化;它旨在紧凑且易于解析。它也可以被人类合理地阅读和写入。</li><li>CZML 是<strong>可扩展的</strong>。虽然 CZML 的主要目标是将场景传达给类似虚拟地球的客户端，但该格式可以轻松扩展，以将其他静态或时间动态数据传达给更复杂的客户端。例如，时间动态数据可以显示在二维图表上。</li><li>CZML是一种<strong>开放格式</strong>。没有与标准机构正式化。</li></ul><h4 id="_3-2、czml加载-1" tabindex="-1"><a class="header-anchor" href="#_3-2、czml加载-1"><span>3.2、CZML加载</span></a></h4><p>定义CZML数据：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> czml <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&quot;document&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;box&quot;</span><span class="token punctuation">,</span>
    version<span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&quot;shape1&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Blue box&quot;</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
      cartographicDegrees<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">114.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    box<span class="token operator">:</span> <span class="token punctuation">{</span>
      dimensions<span class="token operator">:</span> <span class="token punctuation">{</span>
        cartesian<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      material<span class="token operator">:</span> <span class="token punctuation">{</span>
        solidColor<span class="token operator">:</span> <span class="token punctuation">{</span>
          color<span class="token operator">:</span> <span class="token punctuation">{</span>
            rgba<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&quot;shape2&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
      cartographicDegrees<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    box<span class="token operator">:</span> <span class="token punctuation">{</span>
      dimensions<span class="token operator">:</span> <span class="token punctuation">{</span>
        cartesian<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      material<span class="token operator">:</span> <span class="token punctuation">{</span>
        solidColor<span class="token operator">:</span> <span class="token punctuation">{</span>
          color<span class="token operator">:</span> <span class="token punctuation">{</span>
            rgba<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      outline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      outlineColor<span class="token operator">:</span> <span class="token punctuation">{</span>
        rgba<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&quot;shape3&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Yellow box outline&quot;</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
      cartographicDegrees<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">100.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    box<span class="token operator">:</span> <span class="token punctuation">{</span>
      dimensions<span class="token operator">:</span> <span class="token punctuation">{</span>
        cartesian<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      fill<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      outline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      outlineColor<span class="token operator">:</span> <span class="token punctuation">{</span>
        rgba<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>调用 <code>Cesium.CzmlDataSource.load()</code>进行加载：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">loadCZML</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Cesium<span class="token punctuation">.</span>CzmlDataSource<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>czml<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>datasoutcePromise<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>CzmlDataSource<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>datasoutcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7);function h(f,_){const t=e("ExternalLinkIcon");return c(),i("div",null,[u,n("h4",r,[n("a",k,[n("span",null,[s("3.1、"),n("a",d,[s("CZML标准"),p(t)])])])]),m,n("h4",v,[n("a",b,[n("span",null,[s("3.1、"),n("a",g,[s("CZML标准"),p(t)])])])]),C])}const x=o(l,[["render",h],["__file","10、Cesium基础十：加载多源数据.html.vue"]]),M=JSON.parse('{"path":"/studyNotes/Cesium%E7%AC%94%E8%AE%B0/10%E3%80%81Cesium%E5%9F%BA%E7%A1%80%E5%8D%81%EF%BC%9A%E5%8A%A0%E8%BD%BD%E5%A4%9A%E6%BA%90%E6%95%B0%E6%8D%AE.html","title":"10、Cesium加载多源数据","lang":"zh-CN","frontmatter":{"description":"10、Cesium加载多源数据 1、GeoJSON 调用Cesium.GeoJsonDataSource():处理GeoJSON和TopoJSON数据的数据源。 第一种加载方式： 第二种加载方式： 2、KML 调用Cesium.KmlDataSource():处理KML的数据源。与 Cesium.GeoJsonDataSource()类似。 3、CZM...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/studyNotes/Cesium%E7%AC%94%E8%AE%B0/10%E3%80%81Cesium%E5%9F%BA%E7%A1%80%E5%8D%81%EF%BC%9A%E5%8A%A0%E8%BD%BD%E5%A4%9A%E6%BA%90%E6%95%B0%E6%8D%AE.html"}],["meta",{"property":"og:site_name","content":"歪脖祭司"}],["meta",{"property":"og:title","content":"10、Cesium加载多源数据"}],["meta",{"property":"og:description","content":"10、Cesium加载多源数据 1、GeoJSON 调用Cesium.GeoJsonDataSource():处理GeoJSON和TopoJSON数据的数据源。 第一种加载方式： 第二种加载方式： 2、KML 调用Cesium.KmlDataSource():处理KML的数据源。与 Cesium.GeoJsonDataSource()类似。 3、CZM..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-23T11:02:41.000Z"}],["meta",{"property":"article:author","content":"祭司唐"}],["meta",{"property":"article:modified_time","content":"2024-03-23T11:02:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"10、Cesium加载多源数据\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-23T11:02:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"祭司唐\\",\\"url\\":\\"\\"}]}"]]},"headers":[{"level":3,"title":"1、GeoJSON","slug":"_1、geojson","link":"#_1、geojson","children":[]},{"level":3,"title":"2、KML","slug":"_2、kml","link":"#_2、kml","children":[]},{"level":3,"title":"3、CZML","slug":"_3、czml","link":"#_3、czml","children":[]},{"level":2,"title":"Cesium加载多源数据","slug":"cesium加载多源数据","link":"#cesium加载多源数据","children":[{"level":3,"title":"1、GeoJSON","slug":"_1、geojson-1","link":"#_1、geojson-1","children":[]},{"level":3,"title":"2、KML","slug":"_2、kml-1","link":"#_2、kml-1","children":[]},{"level":3,"title":"3、CZML","slug":"_3、czml-1","link":"#_3、czml-1","children":[]}]}],"git":{"createdTime":1711191761000,"updatedTime":1711191761000,"contributors":[{"name":"tangwenjian","email":"gistwj@163.com","commits":1}]},"readingTime":{"minutes":5.99,"words":1797},"filePathRelative":"studyNotes/Cesium笔记/10、Cesium基础十：加载多源数据.md","localizedDate":"2024年3月23日","excerpt":"\\n<h3>1、GeoJSON</h3>\\n<p>调用<code>Cesium.GeoJsonDataSource()</code>:处理<strong>GeoJSON</strong>和<strong>TopoJSON</strong>数据的数据源。</p>\\n<ol>\\n<li>\\n<p>第一种加载方式：</p>\\n<div class=\\"language-text\\" data-ext=\\"text\\" data-title=\\"text\\"><pre class=\\"language-text\\"><code>const loadGeoJSON = () =&gt; {\\n  viewer.dataSources.add(\\n    Cesium.GeoJsonDataSource.load(\\n       \\"https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json\\",\\n       {\\n         stroke: Cesium.Color.fromCssColorString(\\"#048dfa\\"), //折线和多边形轮廓的默认颜色。\\n         fill: Cesium.Color.fromCssColorString(\\"#afd6f0\\"), //填充颜色#048dfa\\n         strokeWidth: 3, //轮廓宽度\\n         markerSymbol: \\"?\\", //为每个点创建的地图图钉的默认符号。\\n       }\\n     )\\n   );\\n};\\n</code></pre></div></li>\\n<li>\\n<p>第二种加载方式：</p>\\n<div class=\\"language-typescript\\" data-ext=\\"ts\\" data-title=\\"ts\\"><pre class=\\"language-typescript\\"><code><span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">loadGeoJSON</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token operator\\">=&gt;</span><span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token comment\\">//因为加载是Ajax请求，所以可以使用以下方式加载</span>\\n  Cesium<span class=\\"token punctuation\\">.</span>GeoJsonDataSource<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">load</span><span class=\\"token punctuation\\">(</span>\\n    <span class=\\"token string\\">\\"https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json\\"</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token punctuation\\">{</span>\\n      stroke<span class=\\"token operator\\">:</span> Cesium<span class=\\"token punctuation\\">.</span>Color<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">fromCssColorString</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"#048dfa\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">//折线和多边形轮廓的默认颜色。</span>\\n      fill<span class=\\"token operator\\">:</span> Cesium<span class=\\"token punctuation\\">.</span>Color<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">fromCssColorString</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"#afd6f0\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">//填充颜色#048dfa</span>\\n      strokeWidth<span class=\\"token operator\\">:</span> <span class=\\"token number\\">3</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">//轮廓宽度</span>\\n      markerSymbol<span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"?\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">//为每个点创建的地图图钉的默认符号。</span>\\n    <span class=\\"token punctuation\\">}</span>\\n  <span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">then</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span>dataSources<span class=\\"token operator\\">:</span> Cesium<span class=\\"token punctuation\\">.</span>GeoJsonDataSource<span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    viewer<span class=\\"token punctuation\\">.</span>dataSources<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">add</span><span class=\\"token punctuation\\">(</span>dataSources<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">;</span>\\n</code></pre></div></li>\\n</ol>","autoDesc":true}');export{x as comp,M as data};
